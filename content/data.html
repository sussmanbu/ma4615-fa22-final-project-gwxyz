---
title: Data
description:
toc: true
featuredVideo:
featuredImage: /images/nba_data.png
draft: false
---


<div id="TOC">

</div>

<div id="dataset-summary" class="section level2">
<h2>Dataset Summary</h2>
<p><a href="https://github.com/peasant98/TheNBACSV" class="uri">https://github.com/peasant98/TheNBACSV</a></p>
<p>The data is being collected to see an individual player’s performance in a specific season in the NBA. More specifically, one can find the row with an individual player stats from a specific season of his Minutes Played, Usage Percentage, Assists, Turnover Percentages, etc.
Matt Strong collected the data and put it together, who is a software engineer at Microsoft and robotics researcher. He collected the data in order to determine who is a good/bad player in the NBA.</p>
<p><a href="https://www.kaggle.com/datasets/ghopkins/nba-injuries-2010-2018" class="uri">https://www.kaggle.com/datasets/ghopkins/nba-injuries-2010-2018</a></p>
<p>The data is being collected to see which teams have had the most injuries in the past 5 seasons and also which types of injuries a specific player sustained. Moreover, since 2010, in which season did the NBA suffer the most injuries and which types of injuries tend to be season ending.
Randall Hopkins collected the data and put it together.</p>
</div>
<div id="data-files-and-variables-summary" class="section level2">
<h2>Data Files And Variables Summary</h2>
<p>There are four data files that we are using for the project. The main data file is <code>nbaNew.csv</code>, which contains nba player’s stats from 1950 to 2017. Out of 52 variables, the ones we are focusing on are ‘season start’, ‘Player name’’, ‘Pos’(player’s position), ‘Age’, ‘TM’(team), ‘PER’(points per game), and the rest are player’s game stats including shooting percentage, block, steal etc.</p>
<p>Data file <code>playoffs.csv</code> is the summarized version of nba file containing 22 nba teams who have made to the playoffs in 2014,2015,2016 seasons and their player’s game stats. The variables we are focusing on are the same as the main data file but with more restrictions to help us better analyze the stats.</p>
<p>A supplementary data file called <code>injuries_2010-2020 2.csv</code> is used to collect individual player’s injury condition during particular season and the goal is to combine this data file with the playoffs data to create a more comprehensive and reliable data set that can be used to explore the relationship between player’s injury and how that may affect a playoff’s team as a whole. The variables in these data files contain ‘Date’, ‘Team’, ‘Relinquished’ (players who are placed on the injury list), and ‘Notes’ (information on the injury).</p>
<p>The last data file is <code>combine.csv</code>, which is the final version of the combined dataset including playoffs and injury data. The variable ‘injuries_data’ contains the number 0 and 1 indicating if this player is injured for that particular season.</p>
</div>
<div id="data-cleaning" class="section level2">
<h2>Data Cleaning</h2>
<p>Our <a href="/load_and_clean_data.R">load_and_clean_data.R</a> file is here.</p>
<div id="nba-dataset" class="section level3">
<h3>NBA Dataset</h3>
<pre class="r"><code>library(rvest)
library(tidyverse)</code></pre>
<pre><code>## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──
## ✔ ggplot2 3.4.0      ✔ purrr   0.3.4 
## ✔ tibble  3.1.8      ✔ dplyr   1.0.10
## ✔ tidyr   1.2.1      ✔ stringr 1.4.1 
## ✔ readr   2.1.2      ✔ forcats 0.5.2 
## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter()         masks stats::filter()
## ✖ readr::guess_encoding() masks rvest::guess_encoding()
## ✖ dplyr::lag()            masks stats::lag()</code></pre>
<pre class="r"><code>nba &lt;- read_csv(here::here(&quot;dataset&quot;, &quot;nbaNew.csv&quot;), col_types = cols(PlayerSalary = col_number(), `TS%` = col_number(),`ORB%` = col_number(),`DRB%` = col_number(),`TRB%` = col_number(),`AST%` = col_number(),`STL%` = col_number(),`BLK%` = col_number(),`TOV%` = col_number(),`USG%` = col_number(),`FG%` = col_number(),`3P%` = col_number(),`2P%` = col_number(),`eFG%` = col_number(),`FT%` = col_number()))</code></pre>
<pre><code>## Warning: One or more parsing issues, see `problems()` for details</code></pre>
<pre class="r"><code>nba_clean&lt;- select(nba, -(blanl), -(blank2), -(`3P`), -(`3PA`),-(`3P%`))%&gt;%
  na_if(&quot;&quot;)%&gt;%
  filter(!row_number() %in% c(24625, 24626, 24627, 24628))</code></pre>
<p>We clean the NBA dataset by specifying the types of all the columns, removing blank columns, and columns and rows that contain lots of NA.</p>
</div>
<div id="injury-dataset" class="section level3">
<h3>Injury Dataset</h3>
<pre class="r"><code>Injury &lt;- read_csv(here::here(&quot;dataset&quot;, &quot;injuries_2010-2020 2.csv&quot;), col_types = cols_only(Date = col_character(), Team = col_character(), Relinquished = col_character()))
colnames(Injury)[3] &lt;- &quot;PlayerName&quot;
colnames(Injury)[1] &lt;- &quot;SeasonStart&quot;
colnames(Injury)[2] &lt;- &quot;Tm&quot;
Injury &lt;- Injury %&gt;% filter(!is.na(PlayerName))
Injury &lt;- Injury %&gt;% mutate(injuries_data = 1)
Injury$SeasonStart &lt;- substr(Injury$SeasonStart,1,4)
Injury_clean &lt;- Injury %&gt;% filter(SeasonStart %in% c(&quot;2014&quot;,&quot;2015&quot;,&quot;2016&quot;))</code></pre>
<p>We clean the injury dataset by specifying the data type, deleting unnecessary column and changing the column names. We also filter out all the NA in PlayerName and add a column named “injuries_data” of all 1s for later tracking which players had injuries. We change the date to year only since our original NBA dataset doesn’t have month and day. Since we only care about data in 2014, 2015 and 2016, so we filter out other useless years.</p>
</div>
<div id="playoffs-dataset" class="section level3">
<h3>Playoffs Dataset</h3>
<pre class="r"><code>playoffs &lt;- nba_clean%&gt;%
  filter(SeasonStart%in%c(&quot;2014&quot;,&quot;2015&quot;,&quot;2016&quot;))%&gt;%
  filter(Tm%in%c(&quot;IND&quot;,&quot;MIA&quot;, &quot;TOT&quot;, &quot;CHA&quot;, &quot;WAS&quot;, &quot;BRK&quot;,&quot;CHI&quot;, &quot;ATL&quot;,&quot;SAS&quot;,&quot;OKC&quot;,&quot;LAC&quot;,&quot;HOU&quot;,&quot;POR&quot;,&quot;GSW&quot;,&quot;MEM&quot;,&quot;DAL&quot;,
                 &quot;NOP&quot;, &quot;CLE&quot;, &quot;TOR&quot;, &quot;BOS&quot;, &quot;MIL&quot;,
                 &quot;DET&quot;))
playoffs$SeasonStart &lt;- as.character(playoffs$SeasonStart)</code></pre>
<p>Playoffs dataset is created based on nba_clean. It contains data only in 2014, 2015 and 2016. We also focus on the teams that have been in the playoffs, so we specify the teams by filtering. Then, we change the datatype of SeasonStart to be character for correct combining.</p>
</div>
<div id="combine-dataset" class="section level3">
<h3>Combine Dataset</h3>
<pre class="r"><code>combine &lt;- playoffs %&gt;% left_join(Injury_clean, by = c(&quot;PlayerName&quot;,&quot;SeasonStart&quot;,&quot;Tm&quot;))%&gt;% 
  mutate(injuries_data = coalesce(injuries_data, 0))</code></pre>
<p>We use left join to playoffs with injury data by player name, year, and team name to get our combined dataset.</p>
</div>
</div>
